{"ast":null,"code":"import _defineProperty from\"/Users/musabagci/project-mm/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"/Users/musabagci/project-mm/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/musabagci/project-mm/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/musabagci/project-mm/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/musabagci/project-mm/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/musabagci/project-mm/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/musabagci/project-mm/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{Component}from\"react\";import items from\"./data\";var RoomContext=React.createContext();// <RoomContext.Provider value={'hello'}\nvar RoomProvider=/*#__PURE__*/function(_Component){_inherits(RoomProvider,_Component);function RoomProvider(){var _getPrototypeOf2;var _this;_classCallCheck(this,RoomProvider);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(RoomProvider)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={rooms:[],sortedRooms:[],featuredRooms:[],loading:true,type:\"all\",capacity:1,price:0,minPrice:0,maxPrice:0,minSize:0,maxSize:0,breakfast:false,pets:false};_this.getRoom=function(slug){var tempRooms=_toConsumableArray(_this.state.rooms);var room=tempRooms.find(function(room){return room.slug===slug;});return room;};_this.handleChange=function(event){var target=event.target;var value=target.type===\"checkbox\"?target.checked:target.value;var name=event.target.name;_this.setState(_defineProperty({},name,value),_this.filterRooms);};_this.filterRooms=function(){var _this$state=_this.state,rooms=_this$state.rooms,type=_this$state.type,capacity=_this$state.capacity,price=_this$state.price,minSize=_this$state.minSize,maxSize=_this$state.maxSize,breakfast=_this$state.breakfast,pets=_this$state.pets;// all the rooms\nvar tempRooms=_toConsumableArray(rooms);// transform value\ncapacity=parseInt(capacity);price=parseInt(price);// filter by type\nif(type!==\"all\"){tempRooms=tempRooms.filter(function(room){return room.type===type;});}// filter by capacity\nif(capacity!==1){tempRooms=tempRooms.filter(function(room){return room.capacity>=capacity;});}//filter by price\ntempRooms=tempRooms.filter(function(room){return room.price<=price;});//filter by size\ntempRooms=tempRooms.filter(function(room){return room.size>=minSize&&room.size<=maxSize;});// filter by breakfast\nif(breakfast){tempRooms=tempRooms.filter(function(room){return room.breakfast===true;});}// filter by pets\nif(pets){tempRooms=tempRooms.filter(function(room){return room.pets===true;});}// change state\n_this.setState({sortedRooms:tempRooms});};return _this;}_createClass(RoomProvider,[{key:\"componentDidMount\",// getData\nvalue:function componentDidMount(){var rooms=this.formatData(items);var featuredRooms=rooms.filter(function(room){return room.featured===true;});var maxPrice=Math.max.apply(Math,_toConsumableArray(rooms.map(function(item){return item.price;})));var maxSize=Math.max.apply(Math,_toConsumableArray(rooms.map(function(item){return item.size;})));this.setState({rooms:rooms,featuredRooms:featuredRooms,sortedRooms:rooms,loading:false,price:maxPrice,maxPrice:maxPrice,maxSize:maxSize});}},{key:\"formatData\",value:function formatData(items){var tempItems=items.map(function(item){var id=item.sys.id;var images=item.fields.images.map(function(image){return image.fields.file.url;});var room=_objectSpread({},item.fields,{images:images,id:id});return room;});return tempItems;}},{key:\"render\",value:function render(){return React.createElement(RoomContext.Provider,{value:_objectSpread({},this.state,{getRoom:this.getRoom,handleChange:this.handleChange})},this.props.children);}}]);return RoomProvider;}(Component);export{RoomProvider as default};var RoomConsumer=RoomContext.Consumer;export function withRoomConsumer(Component){return function ConsumerWrapper(props){return React.createElement(RoomConsumer,null,function(value){return React.createElement(Component,Object.assign({},props,{context:value}));});};}export{RoomProvider,RoomConsumer,RoomContext};","map":{"version":3,"sources":["/Users/musabagci/project-mm/client/src/context.js"],"names":["React","Component","items","RoomContext","createContext","RoomProvider","state","rooms","sortedRooms","featuredRooms","loading","type","capacity","price","minPrice","maxPrice","minSize","maxSize","breakfast","pets","getRoom","slug","tempRooms","room","find","handleChange","event","target","value","checked","name","setState","filterRooms","parseInt","filter","size","formatData","featured","Math","max","map","item","tempItems","id","sys","images","fields","image","file","url","props","children","RoomConsumer","Consumer","withRoomConsumer","ConsumerWrapper"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport items from \"./data\";\n\nconst RoomContext = React.createContext();\n// <RoomContext.Provider value={'hello'}\n\nexport default class RoomProvider extends Component {\n  state = {\n    rooms: [],\n    sortedRooms: [],\n    featuredRooms: [],\n    loading: true,\n    type: \"all\",\n    capacity: 1,\n    price: 0,\n    minPrice: 0,\n    maxPrice: 0,\n    minSize: 0,\n    maxSize: 0,\n    breakfast: false,\n    pets: false\n  };\n  // getData\n\n  componentDidMount() {\n    let rooms = this.formatData(items);\n    let featuredRooms = rooms.filter(room => room.featured === true);\n    let maxPrice = Math.max(...rooms.map(item => item.price));\n    let maxSize = Math.max(...rooms.map(item => item.size));\n\n    this.setState({\n      rooms,\n      featuredRooms,\n      sortedRooms: rooms,\n      loading: false,\n      price: maxPrice,\n      maxPrice,\n      maxSize\n    });\n  }\n\n  formatData(items) {\n    let tempItems = items.map(item => {\n      let id = item.sys.id;\n      let images = item.fields.images.map(image => image.fields.file.url);\n      let room = { ...item.fields, images, id };\n      return room;\n    });\n    return tempItems;\n  }\n  getRoom = slug => {\n    let tempRooms = [...this.state.rooms];\n    const room = tempRooms.find(room => room.slug === slug);\n    return room;\n  };\n  handleChange = event => {\n    const target = event.target;\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\n    const name = event.target.name;\n    this.setState(\n      {\n        [name]: value\n      },\n      this.filterRooms\n    );\n  };\n  filterRooms = () => {\n    let {\n      rooms,\n      type,\n      capacity,\n      price,\n      minSize,\n      maxSize,\n      breakfast,\n      pets\n    } = this.state;\n    // all the rooms\n\n    let tempRooms = [...rooms];\n    // transform value\n    capacity = parseInt(capacity);\n    price = parseInt(price);\n\n    // filter by type\n    if (type !== \"all\") {\n      tempRooms = tempRooms.filter(room => room.type === type);\n    }\n\n    // filter by capacity\n    if (capacity !== 1) {\n      tempRooms = tempRooms.filter(room => room.capacity >= capacity);\n    }\n    //filter by price\n    tempRooms = tempRooms.filter(room => room.price <= price);\n    //filter by size\n    tempRooms = tempRooms.filter(room => room.size >=minSize && room.size <= maxSize);\n  // filter by breakfast\n  if(breakfast){\n    tempRooms = tempRooms.filter(room => room.breakfast === true)\n  }\n  // filter by pets\n  if(pets){\n    tempRooms = tempRooms.filter(room => room.pets === true)\n  }\n    // change state\n    this.setState({\n      sortedRooms: tempRooms\n    });\n  };\n  render() {\n    return (\n      <RoomContext.Provider\n        value={{\n          ...this.state,\n          getRoom: this.getRoom,\n          handleChange: this.handleChange\n        }}\n      >\n        {this.props.children}\n      </RoomContext.Provider>\n    );\n  }\n}\n\nconst RoomConsumer = RoomContext.Consumer;\n\nexport function withRoomConsumer(Component) {\n  return function ConsumerWrapper(props) {\n    return (\n      <RoomConsumer>\n        {value => <Component {...props} context={value} />}\n      </RoomConsumer>\n    );\n  };\n}\n\nexport { RoomProvider, RoomConsumer, RoomContext };\n"]},"metadata":{},"sourceType":"module"}